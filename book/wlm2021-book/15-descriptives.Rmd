# (PART) Анализ данных {-}
# Описательные статистики

_Итак, мы загрузили данные, посмотрели на них, почистили --- пора приступить к внимательному изучению, чего мы там насобирали. Частично мы уже сталкивались с описательными статистиками в предыдущих главах --- теперь же будем разбираться подробно._

**Описательные статистики (descriptive statistics[^1])** --- обобщенные статистики, количественно описывающие особенности имеющихся данных.

**Описательная статистика (descriptive statistics[^2])** --- области статистики, занимающаяся обработкой статистических данных, их наглядным представлением, и собственно описанием через описательные статистики[^3].

**Зачем нам описательные статиски?** Чтобы ёмко описать имеющиеся данные и составить на основе этих описаний общее представление о них, а также обнаружить особенности, которые могут повлиять на дальнейший анализ.

> Слишком много описаний, поехали к делу уже!


## Меры центральной тенденции

Насколько ёмко мы хотим описать наши даннные? Ну, попробуем для начала максимально ёмко и максимально просто --- одним числом. Например, самым часто встречающимся наблюдением. Как мы будем это наблюдение искать, зависит от [шкалы]() конкретной переменной.

|**Шкала**|**Мера центральная тенденции**|
|:-------:|:----------------------------:|
|*Номинальная*|Мода|
|*Порядковая*|Медиана|
|*Интервальная*|Среднее арифметическое|
|*Абсолютная*|Среднее геометрическое и др.|

### Мода

**Мода (mode)** --- наиболее часто встречающееся значение данной переменной.

Тут все достаточно просто и интуитивно понятно. Пусть у нас есть следующий вектор наблюдений:

```{r}
x <- c(1,3,4,6,4,2,4,3,2,4,1)
```

Если мы составим таблицу частот по этому вектору, то получим следующее:
```{r}
table(x)
```

Очевидно, что $4$ всречается в векторе чаще других значений --- это и есть мода.

Также очевидно, что *моду невозможно посчитать на непрерывной шкале*.

<img class="taskimg" src="img/question.png">
<div class="task">
Почему?
</div>

К сожалению, в **R** нет встроенной функции для расчёта моды.

<img class="taskimg" src="img/code.png">
<div class="task">
Напишите функцию, которая принимает на вход вектор значений дискретной переменной, и вычисляет моду данной переменной[^4]. Если мод у данной переменной несколько, необходимо вернуть все.
</div>

Формально моду можно определить как значение переменной, при котором функция вероятности (probability mass function) принимает максимальное значение:

$$
\mathrm{mode} = \max(\mathrm{PMF}(X))
$$

### Медиана
Если мы уже гуляем на просторах порядковой шкалы, то можем посчитать медиану.

**Медиана (median)** --- это значение, которые располягается на середине сортированного[^5] вектора значений переменной. То есть, она делит все наблюдения переменной ровно пополам и 50% наблюдений оказывается по одну сторону от медианы, а 50% --- по другую. По этой причине медиана также называется *вторым [квартилем]()* распределения.

<img class="taskimg" src="img/question.png">
<div class="task">
Почему нельзя посчитать медиану на номинальной шкале?
</div>

Формальное определение медианы зависит от количества значений в векторе: если есть нечётное количество значений --- то это ровно середина сортированного вектора, если есть чётное количество наблюдение --- то медиана определяется как (арифметическое) среднее между двумя срединными наблюдениями.

$$
\mathrm{median} = \begin{cases}
X(\frac{n+1}{2}), \text{ if } n \text{ is odd},\\
\dfrac{X(\frac{n}{2}) + X(\frac{n}{2}+1)}{2}, \text{ otherwise},
\end{cases}
$$
где $X$ --- вектор налюдений данной переменной, $n$ --- число наблюдений, $X(a)$ --- наблюдение с индексом $a$ в сортированном векторе $X$.

Для вектора `x`, который был создан выше, расчёт медианы выглядит так:
```{r}
median(x)
```
Изи.


### Среднее

#### Арифметическое

КАРТИНКА СРАВНЕНИЯ ПОЛОЖЕНИЙ МОДЫ МЕДИАНЫ И СРЕДНЕГО


#### Геометрическое
#### Гармоническое
#### Квадратичное
#### Усеченное
#### Межквартильное

> На этом список средних не заканчивается, но нам обозначенных выше нам будет более чем достаточно.



[^1]: Count noun, plural in this case
[^2]: Mass (uncountable) noun
[^3]: Обычно противоставляется статистическому выводу (inferential statistics), потому что не делает никаких заключений на основе данных, а просто говорит, что вот жанные такие, какие они есть.
[^4]: Обратите внимание на функцию `tabulate()`.
[^5]: Здесь важно помнить о нюансах терминов «упорядоченный» и «сортированный». *Упорядоченный* ряд наблюдений --- это ряд чисел, на котором задан определенный порядок (например, по ID испытуемого --- 1, 2, 3, 4, …), а *сортированный ряд наблюдений* --- это ряд, упорядоченный по возрастанию или убыванию.