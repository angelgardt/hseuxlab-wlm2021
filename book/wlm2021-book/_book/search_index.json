[["описательные-статистики.html", "14 Описательные статистики 14.1 Меры центральной тенденции 14.2 Меры разброса 14.3 Асимметрия 14.4 Эксцесс 14.5 Описательные статистики в R", " 14 Описательные статистики Итак, мы загрузили данные, посмотрели на них, почистили — пора приступить к внимательному изучению, чего мы там насобирали. Частично мы уже сталкивались с описательными статистиками в предыдущих главах — теперь же будем разбираться подробно. Описательные статистики (descriptive statistics1) — обобщенные статистики, количественно описывающие особенности имеющихся данных. Описательная статистика (descriptive statistics2) — области статистики, занимающаяся обработкой статистических данных, их наглядным представлением, и собственно описанием через описательные статистики3. Зачем нам описательные статиски? Чтобы ёмко описать имеющиеся данные и составить на основе этих описаний общее представление о них, а также обнаружить особенности, которые могут повлиять на дальнейший анализ. Слишком много описаний, поехали к делу уже! 14.1 Меры центральной тенденции Насколько ёмко мы хотим описать наши даннные? Ну, попробуем для начала максимально ёмко и максимально просто — одним числом. Например, самым часто встречающимся наблюдением. Как мы будем это наблюдение искать, зависит от шкалы конкретной переменной. Шкала Мера центральная тенденции Номинальная Мода Порядковая Медиана Интервальная Среднее арифметическое Абсолютная Среднее геометрическое и др. 14.1.1 Мода Мода (mode) — наиболее часто встречающееся значение данной переменной. Тут все достаточно просто и интуитивно понятно. Пусть у нас есть следующий вектор наблюдений: x &lt;- c(1,3,4,6,4,2,4,3,2,4,1) Если мы составим таблицу частот по этому вектору, то получим следующее: table(x) ## x ## 1 2 3 4 6 ## 2 2 2 4 1 Очевидно, что \\(4\\) всречается в векторе чаще других значений — это и есть мода. Также очевидно, что моду невозможно посчитать на непрерывной шкале. Почему? К сожалению, в R нет встроенной функции для расчёта моды. Напишите функцию, которая принимает на вход вектор значений дискретной переменной, и вычисляет моду данной переменной4. Если мод у данной переменной несколько, необходимо вернуть все. Формально моду можно определить как значение переменной, при котором функция вероятности (probability mass function) принимает максимальное значение: \\[ \\mathrm{mode} = \\max(\\mathrm{PMF}(X)) \\] 14.1.2 Медиана Если мы уже гуляем на просторах порядковой шкалы, то можем посчитать медиану. Медиана (median) — это значение, которые располягается на середине сортированного5 вектора значений переменной. То есть, она делит все наблюдения переменной ровно пополам и 50% наблюдений оказывается по одну сторону от медианы, а 50% — по другую. По этой причине медиана также называется вторым квартилем распределения. Почему нельзя посчитать медиану на номинальной шкале? Формальное определение медианы зависит от количества значений в векторе: если есть нечётное количество значений — то это ровно середина сортированного вектора, если есть чётное количество наблюдение — то медиана определяется как (арифметическое) среднее между двумя срединными наблюдениями. \\[ \\mathrm{median} = \\begin{cases} X(\\frac{n+1}{2}), &amp; \\text{ if } n \\text{ is odd},\\\\ \\dfrac{X(\\frac{n}{2}) + X(\\frac{n}{2}+1)}{2}, &amp; \\text{ otherwise}, \\end{cases} \\] где \\(X\\) — вектор налюдений данной переменной, \\(n\\) — число наблюдений, \\(X(a)\\) — наблюдение с индексом \\(a\\) в сортированном векторе \\(X\\). Для вектора x, который был создан выше, расчёт медианы выглядит так: median(x) ## [1] 3 Изи. 14.1.3 Среднее А ежели мы уже на уровне интервальной шкалы, что не грех и среднее посчитать. Вот только какое? 14.1.3.1 Арифметическое Как правило, считается среднее арифметическое (поэтому если не указано иного, мы понимает под термином «среднее» именно «арифметическое среднее»), и далее люди не заморачиваются, что в целом разумно. По сему, мы уделим основное внимание ему, а другие посмотрим лишь обзорно. С арифметическим средним (arithmetic mean, mean, average) все знакомы ещё со школы, и считается оно предельно просто — суммируем все наблюдения и полученную сумму делим на количество наблюдений. \\[ \\bar X = \\dfrac{\\sum_{i=1}^{n}x_i}{n}, \\] где \\(\\bar X\\) — среднее арифметическое, \\(x_i\\) — наблюдение в векторе \\(X\\), \\(n\\) — количество наблюдений. В R оно считается абсолютно элементарно: mean(x) ## [1] 3.090909 Кстати, оценка генерального среднего через выборочное среднее — это один из примеров точечной оценки параметра методом моментов. Давайте сравним для рассмотреные статистики (используем все тот же вектор x): mode(x) # кастомная функция, отсутствует в R ## [1] 4 median(x) ## [1] 3 mean(x) ## [1] 3.090909 Как мы видим, хотя все три статистики описывают цкентральную тенденцию, тем не менее они всё же дают разные результаты. Посмотрим их взаимное положение на графике: mean median mode Что тут можно пронаблюдать? Есть два распределения — более симметричное (сплошная чёрная линия) и сильно скошенное (прерывистая чёрная линия). Медианы (синие линии) делят площади под графиками пополам, как и ожидалось. Кроме того, у симметричного распределения медиана и среднее оченю близки, а у скошенного распределения среднее смещается в сторону массивного правого хвоста. Мода же у скошенного распредления очень близка к пику распределения. Что из этого можно заключить? Близкие значения медианы и среднего — один из показателей симметричности распределения6 Медиана более устойчива к выбросам Почему? Если у нас квазинепрерывная7 шкала и мы можем посчитать моду, она будет близка к пику распределения 14.1.3.2 Геометрическое Редко встречается в научных работах, но заради общего представления пусть будет. Геометрическое среднее (geometric mean) идейно похоже на арифметическое, только наблюдения не складываются, а перемножаются. Отсюда появляется ключевое ограничение на его использование — оно может быть рассчитано только на абсолютной шкале. В психологии абсолютных шкал прям скажем небагато, поэтому, скорее всего, вы его никогда и не встретите в практике. И всё же есть в психологии одна абсолютная шкала, широко используемая, например, в когнитивных исследованиях. Какая? Вычисляется она следующим образом: \\[ G_{X} = \\sqrt[n]{\\prod_{i=1}^n x_i} = \\Big(\\prod_{i=1}^n x_i\\Big)^{\\tfrac{1}{n}} \\] Встроенной функции для вычисления геометрического среднего в R нет, но можно поупражняться. 😊 Напишите функцию, которая принимает на вход вектор значений переменной и вычисляет геометрическое среднее. Функция должна возвращать одно число. Геометрическое среднее используется при работе с экспоненциально растущими величинами (например, численность населения). 14.1.3.3 Гармоническое Суперэкзотичный покемон. Тут даже говорить не буду ничего говорить, просто насладитесь формулой, а если хотите больше, то можно покопаться, например, здесь. \\[ H_X = \\frac{n \\prod_{i=1}^n x_i}{\\sum_{i=1}^n (\\tfrac{1}{x} \\prod_{j=1}^n x_j)} = \\frac{n}{\\sum_{i=1}^n \\tfrac{1}{x_i}} \\] 14.1.3.4 Квадратичное А вот это уже более полезная история. Мы с ним столкнёмся далее, правда под разными масками. Квадратичное среднее (quadratic mean, root mean square, RMS) — это квадратный корень из среднего квадрата наблюдений. Ничего не понятно, поэтому по порядку. есть наблюдение \\(x_i\\) значит есть и его квадрат \\(x_i^2\\) мы умеем считать обычно среднее арифметическое, но ведь \\(x_i^2\\) — это тоже наблюдение, просто в квадрате, так? значит можем посчитать среднее арифметическое квадратов наблюдений — средний квадрат \\[ \\frac{\\sum_{i=1}^n x_i^2}{n} \\] норм, а теперь извлечём из этого дела корень — получим то, что там надо \\[ X_{\\mathrm{RMS}} = \\sqrt{\\frac{\\sum_{i=1}^n x_i^2}{n}} \\] Что-то оно напоминает, да? Per se мы его вряд ли ещё когда-то увидим, но вот когда будем идеть дело с estimation theory… Напишите функцию, которая вычисляет квадратичное среднее по данному вектору наблюдений. Функция должна принимать на вход числовой вектор и возвращать одно число. 14.1.3.5 Усеченное Так, ну, тут уже попроще. Усеченное среднее (truncated mean, trimmed mean) — это младшая сестра среднего арифметического с той только разницей, что вычисляется не по всем наблюдениям, а по усеченной с обеих сторон выборке. То есть, из всей выборке, которая у нас есть, мы выбрасываем сколько-то низких значений и сколько-то высоких. Сколько? Ну, от 5% до 25%. По умолчанию отбрасывается по 2.5% с обеих сторон. Зачем? Чтобы сравнить с обычным средним. Если они близки, то можно ожидать, что распределение симметрично и/или в нём нет выбросов. Если они значительно различаются, то, скорее всего, требуется почистить данные или обратить внимание на форму распределения. 14.1.3.6 Межквартильное То же самое, что и в предыдущем пункте. Почти. Межквартильное среднее (interquartile mean, midmean, IQM) — то же, что и усеченное среднее, только считаем мы по выборке, попавшей в пределы межквартильного размаха. Как посчитать? Вот так: \\[ X_{\\mathrm{IQM}} = \\frac{2}{n} \\sum_{i=\\frac{n}{4}+1}^{\\frac{3n}{4}} x_i \\] Напишите функцию, которая вычисляет усеченное среднее и межквартильное среднее по данному вектору наблюдений. Функция должна принимать на вход вектор наблюдений и долю наблюдений, которую необходимо отсечь от выборки, и возвращать именованный вектор, содержащий две требуемые статистики. 14.1.3.7 Взвешенное Полезная вещь. Часто бывает такая ситуация, что нас нужно посчитать среднее по каким-либо имеющимся параметрам, но одни параметры для нас важнее, чем другие. Например, мы хотим вычислить суммарный балл обучающегося за курс на основе ряда работ, выполненных в течение курса, однако мы понимаем, что тест из десяти вопросов с множественном выбором явно менее показателен, чем, например, аналитическое эссе или экзаментационная оценка. Что делать? Взвесить параметры! Что значит взвесить? Умножить на некоторое число. На самом деле, любое. Пусть мы посчитали, что написать эссе в три абстрактных раза тяжелее, чем написать тест, а сдать экзамен в два раза тяжелее, чем написать эссе. Тогда мы можем присвоить баллу за тест вес \\(1\\), баллу за аналитическое эссе вес \\(3\\), а экзамену — вес \\(6\\). Тогда итоговая оценка за курс будет рассчитываться следующим образом: \\[ \\text{final score } = 1 \\cdot \\text{test} + 3 \\cdot \\text{essay} + 6 \\cdot \\text{exam} \\] Суперкласс. Однако! Весьма вероятно, что в учебном заведении принята единая система оценки для всех видов работ (ну, скажем, некая абстрактная десятибалльная система в сферическом вакууме). Получается, если и за тест, и за эссе, и за экзамен у студента по 10 баллов, то суммарный балл 100, что, кажется, больше, чем 10. Чтобы вернуться к изначальным границам баллов, нужно моделить суммарный балл на сумму весов параметров: \\[ \\text{final score } = \\frac{1 \\cdot \\text{test} + 3 \\cdot \\text{essay} + 6 \\cdot \\text{exam}}{1 + 3 + 6} \\] Кайф! Собственно, это и есть взвешенное среднее. Коэффициенты, на которые мы умножаем значение парамернов, называются весами параметров. И в общем виде формула принимает следующий вид. \\[ \\bar x = \\frac{\\sum_{i=1}^n w_i x_i}{\\sum_{i=1}^n w_i} = \\sum_{i=1}^n w_i&#39; x_i, \\] где \\(x_i\\) — значения конкретных параметров, \\(w_i\\) — веса конкретных параметров, \\(w_i&#39;\\) — нормированные веса параметров. Вторая часть формулы показывается нам, что можно облегчить себе вычислительную жизнь, если заранее нормировать веса, то есть разделить каждый коэффициент на сумму коэффициентов: \\[ w_i&#39; = \\frac{w_i}{\\sum_{i=1}^n w_i} \\] Тогда сумма коэффициентов будет равна единице. Так чаще всего и поступают, так как тогда коэффициент будет представлять долю, которую весит данный параметр в суммарной оценке. Удобно, практично, красиво. Взвещенное среднее часто применяется именно во всякого рода ассессментах, и не только образовательных. Например, вы HR-аналитик и оцениваете персонал. Вы аналитически вычисляете веса коэффициентов (допусти, с помощью линейной регрессии), а далее на их основе высчитаете интегральный балл, по которому будете оценивать сотрудников. Это как один из индустриальных примеров. Есть специально обученная функция, которая вычисляет взвешенное среднее: weighted.mean(x = c(10, 8, 8), # вектор значений параметров (например, баллы за тест, эссе и экзамен) w = c(0.1, 0.3, 0.6)) # веса в итоговой оценке ## [1] 8.2 На этом список средних не заканчивается, но нам обозначенных выше будет более чем достаточно. 14.2 Меры разброса 14.2.1 Минимум и максимум 14.2.2 Размах 14.2.3 Дисперсия 14.2.4 Стандартное отклонение 14.2.5 Стандартная ошибка 14.2.6 Квантили 14.2.6.1 Квартили 14.2.6.2 Процентили 14.3 Асимметрия 14.4 Эксцесс 14.5 Описательные статистики в R Count noun, plural in this case↩︎ Mass (uncountable) noun↩︎ Обычно противоставляется статистическому выводу (inferential statistics), потому что не делает никаких заключений на основе данных, а просто говорит, что вот жанные такие, какие они есть.↩︎ Обратите внимание на функцию tabulate().↩︎ Здесь важно помнить о нюансах терминов «упорядоченный» и «сортированный». Упорядоченный ряд наблюдений — это ряд чисел, на котором задан определенный порядок (например, по ID испытуемого — 1, 2, 3, 4, …), а сортированный ряд наблюдений — это ряд, упорядоченный по возрастанию или убыванию.↩︎ И очень косвенно — нормальности распределения. Точнее будет сказать так: если распределение симметрично, то можно предположить, оно нормальное, однако это требует дополнительной проверки! Здесь надо помнить про особенности импликации: нормальное распределение всегда симметрично, однако не любое симметричное распределение нормально.↩︎ Квазинепрерывная шкала — это порядковая шкала, относительно которой мы сделали допущение, что она непрерывная. Например, такое допущение делается в психометрике относительно шкалы Ликерта (Лайкерта), когда мы предполагаем, что интервал между двумя соседними значениями мы тоже описали, несмотря на то, что респондент должен выбираться между этими соседними значениями.↩︎ "]]
